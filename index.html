<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Proficiency Graph</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #f7f7f7;
        }
        #graph-container {
            width: 80%;
            max-width: 600px;
        }
        input {
            margin: 5px;
        }
    </style>
</head>
<body>

<h2>Proficiency Level Distribution</h2>
<div>
    <label for="fours">Number of 4s:</label>
    <input type="number" id="fours" value="0">
    <label for="threes">Number of 3s:</label>
    <input type="number" id="threes" value="0">
    <label for="twos">Number of 2s:</label>
    <input type="number" id="twos" value="0">
    <label for="ones">Number of 1s:</label>
    <input type="number" id="ones" value="0">
    <button onclick="updateGraph()">Graph Proficiency</button>
</div>

<div id="graph-container">
    <div id="graph"></div>
</div>

<script>
    function updateGraph() {
        const fours = parseInt(document.getElementById('fours').value);
        const threes = parseInt(document.getElementById('threes').value);
        const twos = parseInt(document.getElementById('twos').value);
        const ones = parseInt(document.getElementById('ones').value);

        const total = fours + threes + twos + ones;

        const proficiencyPercentages = [
            (fours / total * 100).toFixed(2),
            (threes / total * 100).toFixed(2),
            (twos / total * 100).toFixed(2),
            (ones / total * 100).toFixed(2)
        ];

        const data = [{
            x: ['4s', '3s', '2s', '1s'],
            y: proficiencyPercentages,
            type: 'bar',
            text: proficiencyPercentages.map(String),
            textposition: 'auto'
        }];

        const layout = {
            title: 'Proficiency Level Distribution (%)',
            xaxis: { title: 'Proficiency Level' },
            yaxis: { title: 'Percentage (%)' }
        };

        Plotly.newPlot('graph', data, layout);
    }
</script>

</body>
</html>
